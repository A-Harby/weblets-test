!function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function s(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(t,e){t.appendChild(e)}function l(t,e,n){t.insertBefore(e,n||null)}function i(t){t.parentNode.removeChild(t)}function a(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function u(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function f(){return d(" ")}function h(){return d("")}function g(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function m(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function p(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function $(t,e,n,o){t.style.setProperty(e,n,o?"important":"")}function w(t){const e={};for(const n of t)e[n.name]=n.value;return e}let y;function b(t){y=t}function x(){if(!y)throw new Error("Function called outside component initialization");return y}function v(){const t=x();return(e,n)=>{const o=t.$$.callbacks[e];if(o){const s=function(t,e,n=!1){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,!1,e),o}(e,n);o.slice().forEach((e=>{e.call(t,s)}))}}}const k=[],E=[],_=[],C=[],M=Promise.resolve();let R=!1;function A(t){_.push(t)}let D=!1;const T=new Set;function L(){if(!D){D=!0;do{for(let t=0;t<k.length;t+=1){const e=k[t];b(e),N(e.$$)}for(b(null),k.length=0;E.length;)E.pop()();for(let t=0;t<_.length;t+=1){const e=_[t];T.has(e)||(T.add(e),e())}_.length=0}while(k.length);for(;C.length;)C.pop()();R=!1,D=!1,T.clear()}}function N(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(A)}}const S=new Set;let H,P;function j(){H={r:0,c:[],p:H}}function B(){H.r||o(H.c),H=H.p}function I(t,e){t&&t.i&&(S.delete(t),t.i(e))}function O(t,e,n,o){if(t&&t.o){if(S.has(t))return;S.add(t),H.c.push((()=>{S.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}function z(t,e){t.d(1),e.delete(t.key)}function F(t,e,n,o,s,r,c,l,i,a,u,d){let f=t.length,h=r.length,g=f;const m={};for(;g--;)m[t[g].key]=g;const p=[],$=new Map,w=new Map;for(g=h;g--;){const t=d(s,r,g),l=n(t);let i=c.get(l);i?o&&i.p(t,e):(i=a(l,t),i.c()),$.set(l,p[g]=i),l in m&&w.set(l,Math.abs(g-m[l]))}const y=new Set,b=new Set;function x(t){I(t,1),t.m(l,u),c.set(t.key,t),u=t.first,h--}for(;f&&h;){const e=p[h-1],n=t[f-1],o=e.key,s=n.key;e===n?(u=e.first,f--,h--):$.has(s)?!c.has(o)||y.has(o)?x(e):b.has(s)?f--:w.get(o)>w.get(s)?(b.add(o),x(e)):(y.add(s),f--):(i(n,c),f--)}for(;f--;){const e=t[f];$.has(e.key)||i(e,c)}for(;h;)x(p[h-1]);return p}function q(t){t&&t.c()}function G(t,n,r,c){const{fragment:l,on_mount:i,on_destroy:a,after_update:u}=t.$$;l&&l.m(n,r),c||A((()=>{const n=i.map(e).filter(s);a?a.push(...n):o(n),t.$$.on_mount=[]})),u.forEach(A)}function Y(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function J(t,e){-1===t.$$.dirty[0]&&(k.push(t),R||(R=!0,M.then(L)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function K(e,s,r,c,l,a,u,d=[-1]){const f=y;b(e);const h=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:l,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(s.context||(f?f.$$.context:[])),callbacks:n(),dirty:d,skip_bound:!1,root:s.target||f.$$.root};u&&u(h.root);let g=!1;if(h.ctx=r?r(e,s.props||{},((t,n,...o)=>{const s=o.length?o[0]:n;return h.ctx&&l(h.ctx[t],h.ctx[t]=s)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](s),g&&J(e,t)),n})):[],h.update(),g=!0,o(h.before_update),h.fragment=!!c&&c(h.ctx),s.target){if(s.hydrate){const t=function(t){return Array.from(t.childNodes)}(s.target);h.fragment&&h.fragment.l(t),t.forEach(i)}else h.fragment&&h.fragment.c();s.intro&&I(e.$$.fragment),G(e,s.target,s.anchor,s.customElement),L()}b(f)}async function Q(t,e,n=!0,o){const{networkEnv:s,mnemonics:r,storeSecret:c}=t,l=new window.configs.grid3_client.GridClient(s,r,c,new window.configs.client.HTTPMessageBusClient(0,"","",""),void 0,window.configs.grid3_client.BackendStorageType.tfkvstore);try{await l.connect()}catch(t){}return e(l)}function U(e){return{c(){this.c=t},m:t,p:t,i:t,o:t,d:t}}function V(t){var e;const n=null===(e=window.configs)||void 0===e?void 0:e.baseConfig,o=v();let s;var r;return r=()=>{s=n.subscribe((()=>{o("profile",n.getActiveProfile())}))},x().$$.on_mount.push(r),function(t){x().$$.on_destroy.push(t)}((()=>{s()})),[]}"function"==typeof HTMLElement&&(P=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:t}=this.$$;this.$$.on_disconnect=t.map(e).filter(s);for(const t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(t,e,n){this[t]=n}disconnectedCallback(){o(this.$$.on_disconnect)}$destroy(){Y(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});class W extends P{constructor(t){super(),K(this,{target:this.shadowRoot,props:w(this.attributes),customElement:!0},V,U,r,{},null),t&&t.target&&l(t.target,this,t.anchor)}}function X(t){let e;return{c(){e=u("div"),e.textContent="Your solution is now starting. Please be patient",m(e,"class","notification is-info")},m(t,n){l(t,e,n)},d(t){t&&i(e)}}}function Z(e){let n,o,s,r,c=e[2]&&X();return{c(){n=u("div"),s=f(),c&&c.c(),r=h(),this.c=t,m(n,"class",o="notification is-"+e[0])},m(t,o){l(t,n,o),n.innerHTML=e[1],l(t,s,o),c&&c.m(t,o),l(t,r,o)},p(t,[e]){2&e&&(n.innerHTML=t[1]),1&e&&o!==(o="notification is-"+t[0])&&m(n,"class",o),t[2]?c||(c=X(),c.c(),c.m(r.parentNode,r)):c&&(c.d(1),c=null)},i:t,o:t,d(t){t&&i(n),t&&i(s),c&&c.d(t),t&&i(r)}}}function tt(t,e,n){let{type:o}=e,{message:s}=e,{deployed:r=!1}=e;return t.$$set=t=>{"type"in t&&n(0,o=t.type),"message"in t&&n(1,s=t.message),"deployed"in t&&n(2,r=t.deployed)},[o,s,r]}customElements.define("tf-select-profile",W);class et extends P{constructor(t){super(),this.shadowRoot.innerHTML='<style>@import url("https://cdn.jsdelivr.net/npm/bulma@0.9.3/css/bulma.min.css");</style>',K(this,{target:this.shadowRoot,props:w(this.attributes),customElement:!0},tt,Z,r,{type:0,message:1,deployed:2},null),t&&(t.target&&l(t.target,this,t.anchor),t.props&&(this.$set(t.props),L()))}static get observedAttributes(){return["type","message","deployed"]}get type(){return this.$$.ctx[0]}set type(t){this.$$set({type:t}),L()}get message(){return this.$$.ctx[1]}set message(t){this.$$set({message:t}),L()}get deployed(){return this.$$.ctx[2]}set deployed(t){this.$$set({deployed:t}),L()}}function nt(t,e,n){const o=t.slice();return o[14]=e[n],o}function ot(t,e,n){const o=t.slice();return o[17]=e[n],o[19]=n,o}function st(t,e,n){const o=t.slice();return o[20]=e[n].type,o[21]=e[n].label,o[22]=e[n].click,o[23]=e[n].disabled,o[24]=e[n].loading,o}function rt(t,e,n){const o=t.slice();return o[27]=e[n],o}function ct(t,e,n){const o=t.slice();return o[14]=e[n],o}function lt(t){let e,n,o,s;return{c(){e=u("th"),n=u("input"),m(n,"type","checkbox"),n.checked=t[5]},m(r,i){l(r,e,i),c(e,n),o||(s=g(n,"change",t[8]),o=!0)},p(t,e){32&e[0]&&(n.checked=t[5])},d(t){t&&i(e),o=!1,s()}}}function it(t){let e,n=[],o=new Map,s=t[0];const r=t=>t[14];for(let e=0;e<s.length;e+=1){let c=ct(t,s,e),l=r(c);o.set(l,n[e]=at(l,c))}return{c(){for(let t=0;t<n.length;t+=1)n[t].c();e=h()},m(t,o){for(let e=0;e<n.length;e+=1)n[e].m(t,o);l(t,e,o)},p(t,c){1&c[0]&&(s=t[0],n=F(n,c,r,1,t,s,o,e.parentNode,z,at,e,ct))},d(t){for(let e=0;e<n.length;e+=1)n[e].d(t);t&&i(e)}}}function at(t,e){let n,o,s,r=e[14]+"";return{key:t,first:null,c(){n=u("th"),o=d(r),m(n,"title",s=e[14]),this.first=n},m(t,e){l(t,n,e),c(n,o)},p(t,c){e=t,1&c[0]&&r!==(r=e[14]+"")&&p(o,r),1&c[0]&&s!==(s=e[14])&&m(n,"title",s)},d(t){t&&i(n)}}}function ut(t){let e;return{c(){e=u("th"),e.textContent="Actions",m(e,"title","Actions")},m(t,n){l(t,e,n)},d(t){t&&i(e)}}}function dt(t){let e,n=t[1],o=[];for(let e=0;e<n.length;e+=1)o[e]=pt(ot(t,n,e));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=h()},m(t,n){for(let e=0;e<o.length;e+=1)o[e].m(t,n);l(t,e,n)},p(t,s){if(158&s[0]){let r;for(n=t[1],r=0;r<n.length;r+=1){const c=ot(t,n,r);o[r]?o[r].p(c,s):(o[r]=pt(c),o[r].c(),o[r].m(e.parentNode,e))}for(;r<o.length;r+=1)o[r].d(1);o.length=n.length}},d(t){a(o,t),t&&i(e)}}}function ft(t){let e,n,o,s,r;return{c(){e=u("td"),n=u("input"),m(n,"type","checkbox"),n.checked=o=t[4].includes(t[19])},m(o,i){l(o,e,i),c(e,n),s||(r=g(n,"change",t[7].bind(void 0,t[19])),s=!0)},p(e,s){t=e,16&s[0]&&o!==(o=t[4].includes(t[19]))&&(n.checked=o)},d(t){t&&i(e),s=!1,r()}}}function ht(t,e){let n,o,s=e[27]+"";return{key:t,first:null,c(){n=u("td"),o=d(s),this.first=n},m(t,e){l(t,n,e),c(n,o)},p(t,n){e=t,2&n[0]&&s!==(s=e[27]+"")&&p(o,s)},d(t){t&&i(n)}}}function gt(t){let e,n,o=t[2],s=[];for(let e=0;e<o.length;e+=1)s[e]=mt(st(t,o,e));return{c(){e=u("td"),n=u("div");for(let t=0;t<s.length;t+=1)s[t].c();m(n,"class","buttons")},m(t,o){l(t,e,o),c(e,n);for(let t=0;t<s.length;t+=1)s[t].m(n,null)},p(t,e){if(4&e[0]){let r;for(o=t[2],r=0;r<o.length;r+=1){const c=st(t,o,r);s[r]?s[r].p(c,e):(s[r]=mt(c),s[r].c(),s[r].m(n,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=o.length}},d(t){t&&i(e),a(s,t)}}}function mt(t){let e,n,o,s,r,a,h,$=t[21]+"";function w(...e){return t[12](t[22],t[19],...e)}return{c(){e=u("button"),n=d($),o=f(),m(e,"class",s="button is-"+t[20]+(t[24]&&t[24](t[19])?" is-loading":"")),e.disabled=r=!!t[23]&&t[23](t[19])},m(t,s){l(t,e,s),c(e,n),c(e,o),a||(h=g(e,"click",w),a=!0)},p(o,c){t=o,4&c[0]&&$!==($=t[21]+"")&&p(n,$),4&c[0]&&s!==(s="button is-"+t[20]+(t[24]&&t[24](t[19])?" is-loading":""))&&m(e,"class",s),4&c[0]&&r!==(r=!!t[23]&&t[23](t[19]))&&(e.disabled=r)},d(t){t&&i(e),a=!1,h()}}}function pt(t){let e,n,o,s,r=[],a=new Map,d=t[3]&&ft(t),h=t[17];const g=t=>t[27];for(let e=0;e<h.length;e+=1){let n=rt(t,h,e),o=g(n);a.set(o,r[e]=ht(o,n))}let m=t[2].length&&gt(t);return{c(){e=u("tr"),d&&d.c(),n=f();for(let t=0;t<r.length;t+=1)r[t].c();o=f(),m&&m.c(),s=f()},m(t,i){l(t,e,i),d&&d.m(e,null),c(e,n);for(let t=0;t<r.length;t+=1)r[t].m(e,null);c(e,o),m&&m.m(e,null),c(e,s)},p(t,c){t[3]?d?d.p(t,c):(d=ft(t),d.c(),d.m(e,n)):d&&(d.d(1),d=null),2&c[0]&&(h=t[17],r=F(r,c,g,1,t,h,a,e,z,ht,o,rt)),t[2].length?m?m.p(t,c):(m=gt(t),m.c(),m.m(e,s)):m&&(m.d(1),m=null)},d(t){t&&i(e),d&&d.d();for(let t=0;t<r.length;t+=1)r[t].d();m&&m.d()}}}function $t(t){let e,n,o,s=t[0]&&wt(t),r=t[2].length&&bt();return{c(){e=u("tfoot"),n=u("tr"),s&&s.c(),o=f(),r&&r.c()},m(t,i){l(t,e,i),c(e,n),s&&s.m(n,null),c(n,o),r&&r.m(n,null)},p(t,e){t[0]?s?s.p(t,e):(s=wt(t),s.c(),s.m(n,o)):s&&(s.d(1),s=null),t[2].length?r||(r=bt(),r.c(),r.m(n,null)):r&&(r.d(1),r=null)},d(t){t&&i(e),s&&s.d(),r&&r.d()}}}function wt(t){let e,n=[],o=new Map,s=t[0];const r=t=>t[14];for(let e=0;e<s.length;e+=1){let c=nt(t,s,e),l=r(c);o.set(l,n[e]=yt(l,c))}return{c(){for(let t=0;t<n.length;t+=1)n[t].c();e=h()},m(t,o){for(let e=0;e<n.length;e+=1)n[e].m(t,o);l(t,e,o)},p(t,c){1&c[0]&&(s=t[0],n=F(n,c,r,1,t,s,o,e.parentNode,z,yt,e,nt))},d(t){for(let e=0;e<n.length;e+=1)n[e].d(t);t&&i(e)}}}function yt(t,e){let n,o,s,r=e[14]+"";return{key:t,first:null,c(){n=u("th"),o=d(r),m(n,"title",s=e[14]),this.first=n},m(t,e){l(t,n,e),c(n,o)},p(t,c){e=t,1&c[0]&&r!==(r=e[14]+"")&&p(o,r),1&c[0]&&s!==(s=e[14])&&m(n,"title",s)},d(t){t&&i(n)}}}function bt(t){let e;return{c(){e=u("th"),e.textContent="Actions",m(e,"title","Actions")},m(t,n){l(t,e,n)},d(t){t&&i(e)}}}function xt(e){let n,o,s,r,a,d,h,g,p,w,y,b=e[3]&&lt(e),x=e[0]&&it(e),v=e[2].length&&ut(),k=e[1]&&dt(e),E=e[6]&&$t(e);return{c(){n=u("div"),o=f(),s=u("div"),r=u("table"),a=u("thead"),d=u("tr"),b&&b.c(),h=f(),x&&x.c(),g=f(),v&&v.c(),p=f(),w=u("tbody"),k&&k.c(),y=f(),E&&E.c(),this.c=t,m(r,"class","table"),$(r,"width","100%"),$(s,"width","100%"),$(s,"overflow-x","auto")},m(t,i){l(t,n,i),n.innerHTML=e[9],l(t,o,i),l(t,s,i),c(s,r),c(r,a),c(a,d),b&&b.m(d,null),c(d,h),x&&x.m(d,null),c(d,g),v&&v.m(d,null),c(r,p),c(r,w),k&&k.m(w,null),c(r,y),E&&E.m(r,null)},p(t,e){t[3]?b?b.p(t,e):(b=lt(t),b.c(),b.m(d,h)):b&&(b.d(1),b=null),t[0]?x?x.p(t,e):(x=it(t),x.c(),x.m(d,g)):x&&(x.d(1),x=null),t[2].length?v||(v=ut(),v.c(),v.m(d,null)):v&&(v.d(1),v=null),t[1]?k?k.p(t,e):(k=dt(t),k.c(),k.m(w,null)):k&&(k.d(1),k=null),t[6]?E?E.p(t,e):(E=$t(t),E.c(),E.m(r,null)):E&&(E.d(1),E=null)},i:t,o:t,d(t){t&&i(n),t&&i(o),t&&i(s),b&&b.d(),x&&x.d(),v&&v.d(),k&&k.d(),E&&E.d()}}}function vt(t,e,n){let o,s;const r=v();let{rowsData:c=[]}=e,{headers:l}=e,{rows:i}=e,{actions:a=[]}=e,{selectable:u=!0}=e,{selectedRows:d=[]}=e,f=[];return t.$$set=t=>{"rowsData"in t&&n(10,c=t.rowsData),"headers"in t&&n(0,l=t.headers),"rows"in t&&n(1,i=t.rows),"actions"in t&&n(2,a=t.actions),"selectable"in t&&n(3,u=t.selectable),"selectedRows"in t&&n(11,d=t.selectedRows)},t.$$.update=()=>{2&t.$$.dirty[0]&&n(6,o=i&&i.length>49),3072&t.$$.dirty[0]&&(n(4,f=d),r("selected",d.map((t=>c[t])))),18&t.$$.dirty[0]&&n(5,s=f.length===(null==i?void 0:i.length))},[l,i,a,u,f,s,o,function(t){const e=f.indexOf(t);n(4,f=e>-1?f.filter((e=>e!==t)):[...f,t]),r("selected",f.map((t=>c[t])))},function(t){const e=t.target;n(4,f=e.checked?Array.from({length:i.length},((t,e)=>e)):[]),r("selected",e.checked?c:[])},"\n    <style>\n      th, td {\n        white-space: nowrap;\n      }  \n    </style>\n  ",c,d,(t,e,n)=>t(n,e)]}customElements.define("tf-alert",et);class kt extends P{constructor(t){super(),K(this,{target:this.shadowRoot,props:w(this.attributes),customElement:!0},vt,xt,r,{rowsData:10,headers:0,rows:1,actions:2,selectable:3,selectedRows:11},null,[-1,-1]),t&&(t.target&&l(t.target,this,t.anchor),t.props&&(this.$set(t.props),L()))}static get observedAttributes(){return["rowsData","headers","rows","actions","selectable","selectedRows"]}get rowsData(){return this.$$.ctx[10]}set rowsData(t){this.$$set({rowsData:t}),L()}get headers(){return this.$$.ctx[0]}set headers(t){this.$$set({headers:t}),L()}get rows(){return this.$$.ctx[1]}set rows(t){this.$$set({rows:t}),L()}get actions(){return this.$$.ctx[2]}set actions(t){this.$$set({actions:t}),L()}get selectable(){return this.$$.ctx[3]}set selectable(t){this.$$set({selectable:t}),L()}get selectedRows(){return this.$$.ctx[11]}set selectedRows(t){this.$$set({selectedRows:t}),L()}}customElements.define("tf-table",kt);const Et="Please activate a profile from the profile manager";function _t(t){return t=+t,isNaN(t)||t<=0?"No Data Available":t.toString()+" TFT/hour"}function Ct(t,e){return Q(t,(t=>Promise.all(e.map((({id:e})=>function(t,e){return e.contracts.getConsumption({id:t}).then(_t).catch((()=>_t(0)))}(+e,t))))))}function Mt(t){let e,n;return e=new et({props:{type:"info",message:t[0]?"No contracts were found":Et}}),{c(){q(e.$$.fragment)},m(t,o){G(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.message=t[0]?"No contracts were found":Et),e.$set(o)},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){O(e.$$.fragment,t),n=!1},d(t){Y(e,t)}}}function Rt(t){let e,n,s,r,a,h,p,w,y,b,x,v,k,E,_,C,M,R;e=new kt({props:{rowsData:t[1],headers:["#","ID","Type","Billing Rate"],rows:t[1].map(t[14]),selectedRows:t[6]}}),e.$on("selected",t[15]);let A=t[7]&&Dt(t);return{c(){q(e.$$.fragment),n=f(),s=u("div"),r=u("div"),A&&A.c(),a=f(),h=u("div"),p=u("button"),w=d("Delete Selected"),x=f(),v=u("button"),k=d("Delete All"),$(r,"flex-grow","1"),m(r,"class","mr-2"),m(p,"class",y="button is-danger is-outlined mr-2 "+(t[4]&&"selected"===t[5]?"is-loading":"")),p.disabled=b=!t[0]||t[2]||t[4]||0===t[1].length||0===t[3].length,m(v,"class",E="button is-danger "+(t[4]&&"all"===t[5]?"is-loading":"")),v.disabled=_=!t[0]||t[2]||t[4]||0===t[1].length,m(s,"class","is-flex is-justify-content-space-between is-align-items-center")},m(o,i){G(e,o,i),l(o,n,i),l(o,s,i),c(s,r),A&&A.m(r,null),c(s,a),c(s,h),c(h,p),c(p,w),c(h,x),c(h,v),c(v,k),C=!0,M||(R=[g(p,"click",t[12]),g(v,"click",t[11])],M=!0)},p(t,n){const o={};2&n&&(o.rowsData=t[1]),770&n&&(o.rows=t[1].map(t[14])),64&n&&(o.selectedRows=t[6]),e.$set(o),t[7]?A?(A.p(t,n),128&n&&I(A,1)):(A=Dt(t),A.c(),I(A,1),A.m(r,null)):A&&(j(),O(A,1,1,(()=>{A=null})),B()),(!C||48&n&&y!==(y="button is-danger is-outlined mr-2 "+(t[4]&&"selected"===t[5]?"is-loading":"")))&&m(p,"class",y),(!C||31&n&&b!==(b=!t[0]||t[2]||t[4]||0===t[1].length||0===t[3].length))&&(p.disabled=b),(!C||48&n&&E!==(E="button is-danger "+(t[4]&&"all"===t[5]?"is-loading":"")))&&m(v,"class",E),(!C||23&n&&_!==(_=!t[0]||t[2]||t[4]||0===t[1].length))&&(v.disabled=_)},i(t){C||(I(e.$$.fragment,t),I(A),C=!0)},o(t){O(e.$$.fragment,t),O(A),C=!1},d(t){Y(e,t),t&&i(n),t&&i(s),A&&A.d(),M=!1,o(R)}}}function At(e){let n,o;return n=new et({props:{type:"info",message:"Loading Contracts..."}}),{c(){q(n.$$.fragment)},m(t,e){G(n,t,e),o=!0},p:t,i(t){o||(I(n.$$.fragment,t),o=!0)},o(t){O(n.$$.fragment,t),o=!1},d(t){Y(n,t)}}}function Dt(t){let e,n;return e=new et({props:{type:"danger",message:t[7]}}),{c(){q(e.$$.fragment)},m(t,o){G(e,t,o),n=!0},p(t,n){const o={};128&n&&(o.message=t[7]),e.$set(o)},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){O(e.$$.fragment,t),n=!1},d(t){Y(e,t)}}}function Tt(e){let n,o,s,r,a,d,h,g,p,w,y;n=new W({}),n.$on("profile",e[13]);const b=[At,Rt,Mt],x=[];function v(t,e){return t[2]?0:t[1].length?1:2}return p=v(e),w=x[p]=b[p](e),{c(){q(n.$$.fragment),o=f(),s=u("div"),r=u("div"),a=u("h4"),a.textContent="Contracts List",d=f(),h=u("hr"),g=f(),w.c(),this.c=t,m(a,"class","is-size-4 mb-4"),m(r,"class","box"),$(s,"padding","15px")},m(t,e){G(n,t,e),l(t,o,e),l(t,s,e),c(s,r),c(r,a),c(r,d),c(r,h),c(r,g),x[p].m(r,null),y=!0},p(t,[e]){let n=p;p=v(t),p===n?x[p].p(t,e):(j(),O(x[n],1,1,(()=>{x[n]=null})),B(),w=x[p],w?w.p(t,e):(w=x[p]=b[p](t),w.c()),I(w,1),w.m(r,null))},i(t){y||(I(n.$$.fragment,t),I(w),y=!0)},o(t){O(n.$$.fragment,t),O(w),y=!1},d(t){Y(n,t),t&&i(o),t&&i(s),x[p].d()}}}function Lt(t,e,n){let o,s,r=[],c=!1,l=[],i=!1,a=null,u=[];function d(t){if(n(0,o=t),o)return n(2,c=!0),Q(o,(t=>{t.contracts.listMyContracts().then((({nameContracts:t,nodeContracts:e})=>{const o=t.map((({contractID:t})=>({id:t,type:"name"}))),s=e.map((({contractID:t})=>({id:t,type:"node"})));n(1,r=[...o,...s])})).catch((t=>{console.log("Error",t)})).finally((()=>{n(2,c=!1)}))}));n(1,r=[])}function f(){if(window.confirm("Are you sure you want to delete your contracts?"))return n(7,s=null),n(4,i=!0),n(5,a="all"),Q(o,(t=>{t.contracts.cancelMyContracts().then((()=>{n(1,r=[])})).catch((t=>{console.log("Error",t),n(7,s=t.message||t)})).finally((()=>{n(6,u=[]),n(4,i=!1),n(5,a=null)}))}))}let h=!1,g=[];return t.$$.update=()=>{3&t.$$.dirty&&o&&(n(8,h=!0),Ct(o,r).then((t=>{n(9,g=t)})).catch((t=>{console.log("Error",t)})).finally((()=>{n(8,h=!1)})))},[o,r,c,l,i,a,u,s,h,g,d,f,function(){return l.length===r.length?f():window.confirm("Are you sure you want to delete the selected contracts?")?(n(7,s=null),n(4,i=!0),n(5,a="selected"),Q(o,(async t=>{for(const e of l)try{await t.contracts.cancel({id:+e.id})}catch(t){console.log("Error",t),n(7,s=t.message||t)}n(1,r=r.filter((t=>-1===l.findIndex((e=>e.id===t.id))))),n(6,u=[]),n(4,i=!1),n(5,a=null)}))):void 0},({detail:t})=>d(t),({id:t,type:e},n)=>[n.toString(),t.toString(),e,h?"Loading...":g[n]],({detail:t})=>n(3,l=t)]}customElements.define("tf-contractslist",class extends P{constructor(t){super(),this.shadowRoot.innerHTML='<style>@import url("https://cdn.jsdelivr.net/npm/bulma@0.9.3/css/bulma.min.css");</style>',K(this,{target:this.shadowRoot,props:w(this.attributes),customElement:!0},Lt,Tt,r,{},null),t&&t.target&&l(t.target,this,t.anchor)}})}();
